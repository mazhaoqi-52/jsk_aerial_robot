<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from valve.urdf                     | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="valve">
  <!-- 2024/10/25 -->
  <!-- <xacro:property name="pi" value="3.141592653589793" />  -->
  <material name="red">
    <color rgba="1 0 0 1"/>
  </material>
  <material name="black">
    <color rgba="0 0 0 1"/>
  </material>
  <material name="grey">
    <color rgba="0.3 0.3 0.3 1"/>
  </material>
  <link name="main_pipe">
    <visual>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 2.1"/>
      <geometry>
        <cylinder length="2.0" radius="0.05"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 2.1"/>
      <geometry>
        <cylinder length="2.0" radius="0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 2.1"/>
      <mass value="10.0"/>
      <inertia ixx="0.00625" ixy="0.0" ixz="0.0" iyy="0.00625" iyz="0.0" izz="0.0125"/>
    </inertial>
  </link>
  <link name="sub_pipe1">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 1.05"/>
      <geometry>
        <cylinder length="2.1" radius="0.05"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 1.05"/>
      <geometry>
        <cylinder length="2.1" radius="0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 1.05"/>
      <mass value="42.0"/>
      <inertia ixx="0.026250000000000002" ixy="0.0" ixz="0.0" iyy="0.026250000000000002" iyz="0.0" izz="0.052500000000000005"/>
    </inertial>
  </link>
  <link name="sub_pipe2">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 1.05"/>
      <geometry>
        <cylinder length="2.1" radius="0.05"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 1.05"/>
      <geometry>
        <cylinder length="2.1" radius="0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 1.05"/>
      <mass value="42.0"/>
      <inertia ixx="0.026250000000000002" ixy="0.0" ixz="0.0" iyy="0.026250000000000002" iyz="0.0" izz="0.052500000000000005"/>
    </inertial>
  </link>
  <joint name="pipe_joint1" type="fixed">
    <parent link="main_pipe"/>
    <child link="sub_pipe1"/>
    <origin rpy="0 0 0" xyz="0 0.95 0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <joint name="pipe_joint2" type="fixed">
    <parent link="main_pipe"/>
    <child link="sub_pipe2"/>
    <origin rpy="0 0 0" xyz="0 -0.95 0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <joint name="sub_pipe1_mount_joint" type="fixed">
    <parent link="sub_pipe1"/>
    <child link="sub_pipe1_mount"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="sub_pipe1_mount">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.025"/>
      <geometry>
        <cylinder length="0.05" radius="1.05"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.025"/>
      <geometry>
        <cylinder length="0.05" radius="1.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.025"/>
      <mass value="20"/>
      <inertia ixx="5.5125" ixy="0.0" ixz="0.0" iyy="5.5125" iyz="0.0" izz="11.025"/>
    </inertial>
  </link>
  <joint name="sub_pipe2_mount_joint" type="fixed">
    <parent link="sub_pipe2"/>
    <child link="sub_pipe2_mount"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="sub_pipe2_mount">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.025"/>
      <geometry>
        <cylinder length="0.05" radius="1.05"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.025"/>
      <geometry>
        <cylinder length="0.05" radius="1.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.025"/>
      <mass value="20"/>
      <inertia ixx="5.5125" ixy="0.0" ixz="0.0" iyy="5.5125" iyz="0.0" izz="11.025"/>
    </inertial>
  </link>
  <link name="valve">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.2" radius="0.07500000000000001"/>
      </geometry>
      <material name="red"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.2" radius="0.07500000000000001"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="5"/>
      <inertia ixx="0.007031250000000002" ixy="0.0" ixz="0.0" iyy="0.007031250000000002" iyz="0.0" izz="0.014062500000000004"/>
    </inertial>
  </link>
  <joint name="valve_pipe_joint" type="fixed">
    <parent link="main_pipe"/>
    <child link="valve"/>
    <origin rpy="0 3.141592653589793 0" xyz="0 0 2.1"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="stem">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.3" radius="0.03"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.3" radius="0.03"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.5"/>
      <inertia ixx="0.0001125" ixy="0.0" ixz="0.0" iyy="0.0001125" iyz="0.0" izz="0.000225"/>
    </inertial>
  </link>
  <joint name="stem_joint" type="fixed">
    <parent link="valve"/>
    <child link="stem"/>
    <origin rpy="0 0 0" xyz="0 0 0.1"/>
    <axis xyz="0 0 1"/>
  </joint>
  <joint name="valve_joint" type="continuous">
    <dynamics damping="0.0" friction="1.0"/>
    <parent link="stem"/>
    <child link="handle"/>
    <origin rpy="0 0 0" xyz="0 0 0.16999999999999998"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="handle">
    <visual>
      <origin rpy="0 0 -1.5707963267948966" xyz="0 0 -0.04"/>
      <geometry>
        <mesh filename="package://beetle/urdf/mesh/200mm_valve.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 -1.5707963267948966" xyz="0 0 -0.04"/>
      <geometry>
        <mesh filename="package://beetle/urdf/mesh/200mm_valve.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -0.02"/>
      <mass value="5"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.002"/>
    </inertial>
  </link>
  <gazebo reference="main_pipe">
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="sub_pipe1">
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="sub_pipe2">
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="sub_pipe1_mount">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="sub_pipe2_mount">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="valve">
    <material>Gazebo/Red</material>
  </gazebo>
  <gazebo reference="stem">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="handle">
    <material>Gazebo/Black</material>
  </gazebo>
  <transmission name="valve_joint_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="valve_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="valve_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo>
    <plugin filename="libgazebo_ros_p3d.so" name="p3d_base_controller">
      <alwaysOn>true</alwaysOn>
      <updateRate>10.0</updateRate>
      <bodyName>handle</bodyName>
      <topicName>/valve/odom</topicName>
      <gaussianNoise>0</gaussianNoise>
      <frameName>world</frameName>
      <xyzOffsets>0 0 0</xyzOffsets>
      <rpyOffsets>0 0 0</rpyOffsets>
    </plugin>
  </gazebo>
  <gazebo reference="valve_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_ft_sensor.so" name="ft_sensor">
      <updateRate>100.0</updateRate>
      <topicName>valve/wrench</topicName>
      <jointName>valve_joint</jointName>
    </plugin>
  </gazebo>
</robot>

